<!DOCTYPE html>
<!-- Declaración del idioma para el documento -->
<html lang="es">

<head>
    <!-- Título del documento -->
    <title>Panel Principal</title>

    <!-- Metadatos de la página web -->
    <meta charset="utf-8">
    <meta name="author" content="DARG_Company">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- *IMPORTACIÓN DE RECURSOS EXTERNOS -->
    <!-- Llamada al icono de la página web -->
    <link type="image/png" rel="icon" href="../../recursos/imagenes/icons/iconDashboard.svg">

    <!-- *Llamada a las hojas de estilos del framework (BOOSTRAP) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">

    <!-- *Llamada a las hojas de estilos propios de css (CREADOS)-->
    <link href="../../recursos/estilos/privado/panel_principal.css" rel="stylesheet">
    <!--Cambiarlo por el css de la página en cuestion-->
    <link href="../../recursos/estilos/fuentes.css" rel="stylesheet"> <!--Dejarlo NOQUITAR-->
    <link href="../../recursos/estilos/privado/plantilla.css" rel="stylesheet"> <!--Dejarlo NOQUITAR-->

    <!--Hoja de estilos para el calendario-->
    <link href="../../recursos/estilos/privado/calendario.css" rel="stylesheet" />
    <!-- Estilo para poder usar el JQUERY -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
</head>

<body>
    <!-- *Contenido principal del documento -->
    <main class="container-fluid open p-0 position-relative"> <!--Contenedor blanco-->
        <div class="d-flex justify-content-center w-100 sticky-top containerSubMenu align-items-end z-1 flex-wrap">
            <div class="subMenuContainer shadow-sm d-flex justify-content-center flex-wrap">
                <nav class="px-5 d-flex justify-content-center align-items-center gap-5 text-white flex-wrap">
                    <a href="#section1" class="subMenuItem open-sans-regular">Mantenimiento y reparación</a> |
                    <a href="#section2" class="subMenuItem open-sans-regular">Total de automóviles</a> |
                    <a href="#section3" class="subMenuItem open-sans-regular">Personal laboral</a> |
                    <a href="#section4" class="subMenuItem open-sans-regular">Panorama de la clientela</a> |
                    <a href="#section5" class="subMenuItem open-sans-regular">Reportes parametrizados</a> |
                    <a href="#section6" class="subMenuItem open-sans-regular">Reportes automaticos</a>
                </nav>
            </div>
        </div>
        <div class="contenedoTotal d-flex flex-column w-100 p-5 my-5 gap-3 mt-3 ">
            <div class="col1 d-flex flex-wrap">
                <div
                    class="calendarContainer col-lg-5 col-12 d-flex flex-column justify-content-center align-items-center">
                    <h4 id="mainTitle" class="open-sans-regular m-0 p-0"> </h4>
                    <div class="calendar m-0 p-4 mt-4">
                        <div class="header">
                            <div class="month"></div>
                            <div class="btns">
                                <div class="btn today-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-calendar-event-fill" viewBox="0 0 16 16">
                                        <path
                                            d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5" />
                                    </svg>
                                </div>
                                <div class="btn prev-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-arrow-left-short" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5" />
                                    </svg>
                                </div>
                                <div class="btn next-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                        class="bi bi-arrow-right-short" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd"
                                            d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="weekdays">
                            <div class="day">DOM</div>
                            <div class="day">LUN</div>
                            <div class="day">MAR</div>
                            <div class="day">MIE</div>
                            <div class="day">JUE</div>
                            <div class="day">VIE</div>
                            <div class="day">SAB</div>
                        </div>
                        <div class="days"></div>
                    </div>
                </div>
                <div class="CarGraphicContainer col-lg-7 col-12 graphic p-4 shadow" id="autosRepararContainer">
                    <canvas id="autosReparar"></canvas> <!--Grafica 1-->
                </div>
            </div>
            <section id="section1">
                <div class="col2 my-4 d-flex flex-column align-items-center">
                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center">Estadísticas de mantenimiento y reparación
                        </h4>
                    </div>
                    <div class="d-flex flex-wrap justify-content-evenly w-100">
                        <div class="col2Row1 col-lg-7 col-12 graphic p-4 shadow" id="tiempoPorServicioContainer">
                            <canvas id="tiempoPorServicio"></canvas> <!--Grafica 2-->
                        </div>
                        <div class="col2Row2 col-lg-4 col-12 graphic p-4 shadow">
                            <canvas id="cantidadServicios"></canvas> <!--Grafica 4-->
                        </div>
                    </div>
                </div>
            </section>
            <section id="section2">
                <div class="col3 my-4 d-flex flex-column align-items-center">
                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center"> Total de automóviles: Datos y gráficos </h4>
                    </div>
                    <div class="col2Row2 col-10 col-lg-8 graphic p-4 shadow">
                        <canvas id="autosPorTipo"></canvas> <!--Grafica 5-->
                    </div>
                </div>
            </section>
            <section id="section3">
                <div class="col4 my-4 d-flex flex-column align-items-center">
                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center"> Análisis del personal laboral </h4>
                    </div>

                    <div class="col2Row1 col-lg-9 col-12 graphic p-4 shadow">
                        <h5 class="open-sans-semiBold text-center pb-3">
                            Grafica de cantidad de empleados registrados por mes y especialidad.
                        </h5>

                        <form id="empleadosPorMesEspForm" name="empleadosPorMesEspForm" class="needs-validation" novalidate>
                            <div class="form-floating mb-3">
                                <input id="agno_contratacion" name="agno_contratacion" type="number" min="2000"
                                    max="2099" step="1" value="2024" class="form-control" placeholder="0000" required>
                                <label for="agno_contratacion">Año</label>
                                <div class="invalid-feedback">Por favor ingresa un año válido.</div>
                            </div>
                            <button type="submit">Generar gráfica</button>
                        </form>

                        <div id="trabajadoresMesEspcContainer">
                            <canvas id="empleadosPorMesEspecialidad"></canvas>
                        </div>
                    </div>
                </div>
            </section>
            <section id="section4">
                <div class="col5 my-4 d-flex flex-column align-items-center">
                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center"> Panorama de la clientela</h4>
                    </div>

                    <h4 class="open-sans-semiBold text-center">
                        Generar grafica de mayor cantidad de clientes por mes
                    </h4>
                    <form id="graficaForm">
                        <div class="form-group">
                            <label for="mes">Mes:</label>
                            <select id="mes" name="mes">
                                <option value="01">Enero</option>
                                <option value="02">Febrero</option>
                                <option value="03">Marzo</option>
                                <option value="04">Abril</option>
                                <option value="05">Mayo</option>
                                <option value="06">Junio</option>
                                <option value="07">Julio</option>
                                <option value="08">Agosto</option>
                                <option value="09">Septiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="año">Año:</label>
                            <input type="number" id="año" name="año" min="2000" max="2099" step="1" value="2024">
                        </div>

                        <div class="form-group">
                            <label for="departamento">Departamento:</label>
                            <select id="departamento" name="departamento">
                                <option value="San Salvador">San Salvador</option>
                                <option value="Chalatenango">Chalatenango</option>
                                <option value="Santa Ana">Santa Ana</option>
                                <option value="Ahuachapan">Ahuachapan</option>
                                <option value="Sonsonate">Sonsonate</option>
                                <option value="La libertad">La libertad</option>
                                <option value="Cuscatlan">Cuscatlan</option>
                                <option value="Cabañas">Cabañas</option>
                                <option value="la paz">La paz</option>
                                <option value="San Vicente">San Vicente</option>
                                <option value="Usulutan">Usulutan</option>
                                <option value="San Miguel">San Miguel</option>
                                <option value="Morazan">Morazan</option>
                                <option value="La Union">La Union</option>
                            </select>
                        </div>

                        <button type="submit">Generar Gráfica</button>
                    </form>


                    <div class="col2Row1 col-lg-7 col-12 graphic p-4 shadow " id="graficaContainer">
                        <canvas id="clientesMesDepartamentos"></canvas>
                        <div id="noDatos" style="display: none;">
                            <div class="d-flex align-items-center justify-content-center h-100">
                                <h6 class="open-sans-semiBold m-0 p-0 text-center">No hay datos para mostrar</h6>
                            </div>
                        </div>
                    </div>


                    <div class="d-flex flex-wrap justify-content-evenly w-100">

                        <!--Grafica clientes mes y tipos-->
                        <div class="col2Row1 col-lg-7 col-12 graphic p-4 shadow " id="clientesMesTiposContainer">
                            <h5 class="open-sans-semiBold text-center pb-3">
                                Grafica de mayor cantidad de clientes por mes
                            </h5>

                            <form id="formClientesMesTipos">
                                <div class="form-group">
                                    <div class="form-floating mb-3 inputReport">
                                        <input id="año_registro" name="año_registro" type="number" min="2000" max="2099"
                                            step="1" value="2024" class="form-control" placeholder="0000" required>
                                        <label for="año_registro" class="form-label">Año</label>
                                    </div>
                                </div>

                                <button type="submit">Generar Gráfica</button>
                            </form>

                            <canvas id="clientesMesTipos"></canvas> <!--Grafica 8-->
                        </div>

                        <div class="col2Row2 col-lg-4 col-12 graphic p-4 shadow" id="graficaTop10Container">
                            <canvas id="graficaTop10"></canvas> <!--Grafica 9-->
                        </div>

                        <div class="col2Row2 col-lg-4 col-12 graphic p-4 shadow" id="MasCitasContainer">
                            <canvas id="clientesMasCitas"></canvas> <!--Grafica 9-->
                        </div>
                    </div>
                </div>
            </section>
            <section id="section5">
                <!--Aqui empieza el apartado de reportes-->
                <div class="col5 my-4 d-flex flex-column align-items-center">

                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center">Apartado de reportes parametrizados</h4>
                    </div>

                    <div class="d-flex flex-wrap justify-content-evenly w-100">

                        <!--Reporte de citas canceladas/aceptadas y por estado-->
                        <div
                            class="col2Row2 col-lg-3 col-12 p-4 shadow d-flex flex-column align-items-center justify-content-center text-center">

                            <h4 class="open-sans-semiBold text-center titleCard">Citas Aceptadas/Canceladas por cliente
                            </h4>

                            <img src="../../recursos/imagenes/icons/IconClientesBlck.png" alt="" class="imgCard">

                            <p class="text-center textCard">Para abrir este reporte correctamente debe de proporcionar
                                un
                                dui de un usuario y un estado de cita. Esto devolvera un historial de cliente con el
                                estado
                                de cita seleccionada.</p>

                            <div class="form-floating mb-3 inputReport">
                                <label for="input_estado_cita" class="form-label px-2 pt-1 p-0 m-0">Estado cita</label>
                                <select id="input_estado_cita" name="input_estado_cita" type="text" class="form-select"
                                    required>
                                    <option value>Seleccione un estado</option>
                                    <option value="En espera">En espera</option>
                                    <option value="Aceptado">Aceptado</option>
                                    <option value="Cancelado">Cancelado</option>
                                    <option value="Finalizada">Finalizada</option>
                                </select>
                            </div>

                            <div class="form-floating mb-3 inputReport">
                                <input id="input_dui_report" name="input_dui_report" type="text" class="form-control"
                                    placeholder="DUI" required>
                                <label for="input_dui_report" class="form-label">DUI</label>
                            </div>


                            <button type="button" class="btn btnReport btn-light"
                                onclick="openReportCitasEstadoYDUI()">Abrir
                                reporte
                                citas</button>

                        </div>

                        <!--Reporte de historial a los tipo de vehiculo por fecha y tipo-->
                        <div
                            class="col2Row2 col-lg-3 col-12 p-4 shadow d-flex flex-column align-items-center justify-content-center text-center">

                            <h4 class="open-sans-semiBold text-center titleCard">Servicios realizados por tipo de
                                vehiculo y
                                fecha</h4>

                            <img src="../../recursos/imagenes/icons/IconClientesBlck.png" alt="" class="imgCard">

                            <p class="text-center textCard">Para abrir estre reporte correctamente debe de proporcionar
                                una
                                fecha inicial y una final para crear un plazo de tiempo y luego proporcionar un tipo de
                                vehiculo para filtrar los datos del reporte.</p>

                            <div class="form-floating mb-3 p-0 inputReport">
                                <label for="fecha_inicial" class="form-label px-2 pt-1 p-0 m-0">Fecha inicial</label>
                                <!--Fecha de contratación-->
                                <input type="date" class="form-control" id="fecha_inicial" name="fecha_inicial"
                                    placeholder="" required onclick="configurarFechaMaxima()">
                            </div>

                            <div class="form-floating mb-3 p-0 inputReport">
                                <label for="fecha_final" class="form-label px-2 pt-1 p-0 m-0">Fecha
                                    final</label> <!--Fecha de contratación-->
                                <input type="date" class="form-control" id="fecha_final" name="fecha_final"
                                    placeholder="" required onclick="configurarFechaMaxima()">
                            </div>

                            <div class="form-floating mb-3 inputReport">
                                <label for="input_tipo_auto" class="form-label px-2 pt-1 p-0 m-0">Tipo</label>
                                <select id="input_tipo_auto" name="input_tipo_auto" type="text" class="form-select"
                                    required></select>
                            </div>


                            <button type="button" class="btn btnReport btn-light"
                                onclick="openReportServiciosCarroFechaYTipo()">Abrir reporte
                                servicios</button>

                        </div>

                        <!--Reporte de frecuencia de servicios por clientes-->
                        <div
                            class="col2Row2 col-lg-3 col-12 p-4 shadow d-flex flex-column align-items-center justify-content-center text-center">

                            <h4 class="open-sans-semiBold text-center titleCard">Frecuencia de visitas de clientes por
                                servicios</h4>

                            <img src="../../recursos/imagenes/icons/IconClientesBlck.png" alt="" class="imgCard">

                            <p class="text-center textCard">Para abrir estre reporte correctamente debe de proporcionar
                                un
                                DUI del cliente que se quiere buscar y proporcionar el servicio para que se muestre un
                                historial de los servicios que ha solicitado ese cliente y cuantas veces ha pasado por
                                el.
                            </p>

                            <div class="form-floating mb-3 inputReport">
                                <input id="input_dui_report_servicios" name="input_dui_report_servicios" type="text"
                                    class="form-control" placeholder="DUI" required>
                                <label for="input_dui_report_servicios" class="form-label">DUI</label>
                            </div>

                            <div class="form-floating mb-3 inputReport">
                                <label for="input_tipo_servicio" class="form-label px-2 pt-1 p-0 m-0">Tipo</label>
                                <select id="input_tipo_servicio" name="input_tipo_servicio" type="text"
                                    class="form-select" required></select>
                            </div>

                            <button type="button" class="btn btnReport btn-light"
                                onclick="openReportHistorialserviciosCliente()">Abrir reporte clientes y
                                servicios</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="section6">
                <div class="col5 my-4 d-flex flex-column align-items-center">

                    <div class="titleContainer p-3 mb-5 w-100">
                        <h4 class="open-sans-semiBold m-0 p-0 text-center">Apartado de reportes automaticos</h4>
                    </div>

                    <div class="d-flex flex-wrap justify-content-evenly w-100">

                        <!--Reporte de historial a los tipo de vehiculo por fecha y tipo-->
                        <div
                            class="col2Row2 col-lg-3 col-12 p-4 shadow d-flex flex-column align-items-center justify-content-center text-center">

                            <h4 class="open-sans-semiBold text-center titleCard">Automoviles totales del taller</h4>

                            <img src="../../recursos/imagenes/icons/IconClientesBlck.png" alt="" class="imgCard">

                            <p class="text-center textCard">Este reporte mostrara los automoviles disponibles del taller
                                dando
                                detalles de su modelo, placa y estado del vehiculo en un formato de tabla.</p>


                            <button type="button" class="btn btnReport btn-light" onclick="openReportAutos()">Abrir
                                reporte
                                automoviles</button>

                        </div>

                        <div
                            class="col2Row2 col-lg-3 col-12 p-4 shadow d-flex flex-column align-items-center justify-content-center text-center">

                            <h4 class="open-sans-semiBold text-center titleCard">Servicios pendientes</h4>

                            <img src="../../recursos/imagenes/icons/IconClientesBlck.png" alt="" class="imgCard">

                            <p class="text-center textCard">
                                Este reporte mostrara los servicios en los que existen carros pendientes que estan
                                pasando
                                por ese servicio y se mostrara el servicio y la información del auto pendiente.
                            </p>


                            <button type="button" class="btn btnReport btn-light"
                                onclick="openReportServiciosPendientes()">Abrir reporte
                                servicios</button>

                        </div>

                    </div>

                    <div class="col-md-6">
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- jQuery (necesario para jQuery UI) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery UI para la funcionalidad de autocompletado -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <script src="../../recursos/js/calendario.js"></script> <!--Js para el calendario, para que funcione-->
    <!-- *Llamada a las hojas de estilos del framework e iconos -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!--*Libreria de mensajes-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!--Dejarlo NOQUITAR-->
    <!-- Llamada al controlador del componente -->
    <script type="text/javascript" src="../../controlador/utilidades/components.js"></script>
    <!-- Importación de la librería para generar los gráficos. Para más información https://www.chartjs.org/ -->
    <script type="text/javascript" src="../../recursos/js/chart.umd.min.js"></script>
    <!-- *Llamada al controlador del sitio publico -->
    <script type="text/javascript" src="../../controlador/utilidades/privado.js"></script> <!--Dejarlo NOQUITAR-->
    <script type="text/javascript" src="../../controlador/privado/panel_principal.js"></script>

</body>

</html>